<% content_for :brand do %>
  <span class="text-lg font-semibold text-gray-900">Vertical Ecosystem</span>
<% end %>

<div class="mb-6">
  <div class="flex items-center gap-3 mb-2">
    <%= link_to "&larr; Back to Verticals".html_safe, verticals_path,
        class: "text-sm text-gray-500 hover:text-gray-700" %>
  </div>
  <div>
    <h1 class="text-2xl font-bold text-gray-900"><%= @vertical.name %></h1>
    <p class="mt-1 text-sm text-gray-500"><%= @vertical.description %></p>
  </div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
  <div class="lg:col-span-2">
    <h2 class="text-lg font-semibold text-gray-900 mb-4">Categories</h2>

    <% if @vertical.categories.any? %>
      <%= ds_data_table(
        columns: [
          { key: :name, label: "Name" },
          { key: :slug, label: "Slug", mono: true },
          { key: :gem_name, label: "Rayswarm Gem", mono: true }
        ],
        rows: @vertical.categories.map { |cat|
          mapping = cat.rayswarm_mappings.first
          {
            name: cat.name,
            slug: cat.slug,
            gem_name: mapping&.gem_name || "-"
          }
        }
      ) %>
    <% else %>
      <%= ds_empty_state title: "No categories",
          description: "This vertical has no categories defined." %>
    <% end %>
  </div>

  <div>
    <h2 class="text-lg font-semibold text-gray-900 mb-4">Ontology Standards</h2>

    <% if @vertical.ontology_standards.any? %>
      <div class="space-y-3">
        <% @vertical.ontology_standards.each do |std| %>
          <%= ds_card title: std.name, subtitle: std.full_name do %>
            <p class="text-xs text-gray-500 mt-1"><%= std.governance_body %></p>
            <a href="<%= std.iri %>" target="_blank" rel="noopener"
               class="text-xs font-medium text-primary-600 hover:text-primary-800 mt-2 inline-block">
              <%= std.iri %>
            </a>
          <% end %>
        <% end %>
      </div>
    <% else %>
      <%= ds_empty_state title: "No standards",
          description: "No ontology standards defined for this vertical." %>
    <% end %>
  </div>
</div>
